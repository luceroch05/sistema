document.getElementById("login-button").addEventListener("click", function() {
    document.querySelector(".panel-login").style.display = "none";
    document.querySelector(".panel-interfaz").style.display = "block";
    document.querySelector(".cursos-container").style.display = "block";
    document.querySelector(".cont-bienvenido").style.display = "flex"; 
    document.querySelector(".cursos-container").style.display = "flex"; 
    document.querySelector(".navegacion").style.display = "flex";

});


document.getElementById("c1").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "block";
    document.querySelector(".panelCurso1").style.display = "block";
    document.querySelector(".panelCurso2").style.display = "none"; 
    document.querySelector(".panelCurso3").style.display = "none"; 
    document.querySelector(".panelCurso4").style.display = "none"; 
    document.querySelector(".panelCurso5").style.display = "none"; 
    document.querySelector(".panelCurso6").style.display = "none"; 
    document.querySelector(".panel-login").style.display = "none";

});

document.getElementById("c2").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "block";
    document.querySelector(".panelCurso1").style.display = "none";
    document.querySelector(".panelCurso2").style.display = "block"; 
    document.querySelector(".panelCurso3").style.display = "none"; 
    document.querySelector(".panelCurso4").style.display = "none"; 
    document.querySelector(".panelCurso5").style.display = "none"; 
    document.querySelector(".panelCurso6").style.display = "none"; 
    document.querySelector(".panel-login").style.display = "none";

});

document.getElementById("c3").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "block"; 
    document.querySelector(".panelCurso1").style.display = "none"; 
    document.querySelector(".panelCurso2").style.display = "none"; 
    document.querySelector(".panelCurso3").style.display = "block"; 
    document.querySelector(".panelCurso4").style.display = "none"; 
    document.querySelector(".panelCurso5").style.display = "none"; 
    document.querySelector(".panelCurso6").style.display = "none"; 
    document.querySelector(".panel-login").style.display = "none";

});





document.getElementById("c4").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "block"; 
    document.querySelector(".panelCurso1").style.display = "none"; 
    document.querySelector(".panelCurso2").style.display = "none"; 
    document.querySelector(".panelCurso3").style.display = "none"; 
    document.querySelector(".panelCurso4").style.display = "block"; 
    document.querySelector(".panelCurso5").style.display = "none"; 
    document.querySelector(".panelCurso6").style.display = "none"; 
    document.querySelector(".panel-login").style.display = "none";



});

document.getElementById("c5").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "block"; 
    document.querySelector(".panelCurso1").style.display = "none"; 
    document.querySelector(".panelCurso2").style.display = "none"; 
    document.querySelector(".panelCurso3").style.display = "none"; 
    document.querySelector(".panelCurso4").style.display = "none"; 
    document.querySelector(".panelCurso5").style.display = "block"; 
    document.querySelector(".panelCurso6").style.display = "none"; 
    document.querySelector(".panel-login").style.display = "none";


});

document.getElementById("c6").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "block"; 
    document.querySelector(".panelCurso1").style.display = "none"; 
    document.querySelector(".panelCurso2").style.display = "none"; 
    document.querySelector(".panelCurso3").style.display = "none"; 
    document.querySelector(".panelCurso4").style.display = "none"; 
    document.querySelector(".panelCurso5").style.display = "none"; 
    document.querySelector(".panelCurso6").style.display = "block"; 
    document.querySelector(".panel-login").style.display = "none";


});


document.getElementById("user").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "none"; 
    document.querySelector(".panelCurso1").style.display = "none"; 
    document.querySelector(".panelCurso2").style.display = "none"; 
    document.querySelector(".panelCurso3").style.display = "none"; 
    document.querySelector(".panelCurso4").style.display = "none"; 
    document.querySelector(".panelCurso5").style.display = "none"; 
    document.querySelector(".panelCurso6").style.display = "none"; 
    document.querySelector(".panel-user").style.display = "block"; 
    document.querySelector(".panel-login").style.display = "none"; 

});



document.getElementById("home").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "flex"; 
    document.querySelector(".cursos-container").style.display = "flex"; 
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-user").style.display = "none";

  

});





document.getElementById("btnanterior").addEventListener('click', function(){
    document.querySelector(".cont-bienvenido").style.display = "flex"; 
    document.querySelector(".cursos-container").style.display = "flex"; 
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-user").style.display = "none";


});

document.getElementById("btnanterior2").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "flex";
    document.querySelector(".cursos-container").style.display = "flex";
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-interfaz").style.display = "block";
});


document.getElementById("btnanterior3").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "flex";
    document.querySelector(".cursos-container").style.display = "flex";
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-interfaz").style.display = "block";
});

document.getElementById("btnanterior4").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "flex";
    document.querySelector(".cursos-container").style.display = "flex";
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-interfaz").style.display = "block";
});
document.getElementById("btnanterior5").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "flex";
    document.querySelector(".cursos-container").style.display = "flex";
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-interfaz").style.display = "block";
});
document.getElementById("btnanterior6").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "flex";
    document.querySelector(".cursos-container").style.display = "flex";
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-interfaz").style.display = "block";
});

document.getElementById("salir").addEventListener('click', function() {
 

    document.querySelector(".panel-interfaz").style.display = "none";
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-user").style.display = "none"; 
    document.querySelector(".panel-login").style.display = "block";



});


document.getElementById("estadisticas").addEventListener('click', function() {
    document.querySelector(".cont-bienvenido").style.display = "none"; 
    document.querySelector(".cursos-container").style.display = "none";
    document.querySelector(".panel-estadistica").style.display = "block";
    document.querySelector(".reporte").style.display = "block";
    document.querySelector(".panel-curso").style.display = "none";
    document.querySelector(".panel-user").style.display = "none";



});

var idTablaActiva = "";

function mostrarFormularioAgregarNota(idTabla){
    idTablaActiva = idTabla;
    document.getElementById('formAgregarNota').style.display = 'block';
}

function crearNota(){
    document.getElementById("nuevaNotaForm").style.display = "block";
}

function agregarNota() {
    var tabla = document.getElementById(idTablaActiva);
    var tbody = tabla.getElementsByTagName('tbody')[0];
    var nuevaFila = tbody.insertRow();

    var nombreAlumno = document.getElementById("nombreAlumno").value || 0;
    var notaUnidad1 = parseFloat(document.getElementById("notaUnidad1").value) || 0;
    var notaUnidad2 = parseFloat(document.getElementById("notaUnidad2").value) || 0;
    var notaExamenFinal = parseFloat(document.getElementById("notaExamenFinal").value) || 0;
    var promedio = (notaUnidad1 + notaUnidad2 + notaExamenFinal) / 3;

    nuevaFila.insertCell(0).innerText = nombreAlumno;
    nuevaFila.insertCell(1).innerText = notaUnidad1;
    nuevaFila.insertCell(2).innerText = notaUnidad2;
    nuevaFila.insertCell(3).innerText = notaExamenFinal;
    nuevaFila.insertCell(4).innerText = promedio.toFixed(2);

    // Corregido: la última celda debería tener índice 5
    var acciones = nuevaFila.insertCell(5);
    acciones.innerHTML = '<button onclick="editarNota(this)">✏️</button> <button onclick="eliminarNota(this)">⛔</button>';

    document.getElementById("formAgregarNota").style.display = "none";
}

 function editarNota(btn){
    var fila = btn.parentNode.parentNode;
    var celdas = fila.getElementsByTagName('td');

    for(let i = 1; i < 4; i++){
        let valorActual = celdas[i].innerText;
        let nuevoValor = prompt(`Editar la nota (Unidad ${i}):`, valorActual);
        if(nuevoValor !== null && nuevoValor.trim() !== '' && !isNaN(nuevoValor)){
            celdas[i].innerText = nuevoValor;
        }
    }

    var sumaNotas = 0;
    for(let i = 1; i < 4; i++){
        sumaNotas += parseFloat(celdas[i].innerText);
    }

    var promedio = sumaNotas / 3;
    celdas[4].innerText = promedio.toFixed(2);
 }

 function eliminarNota(btn){
    if(confirm("Estas seguro de que deseas eliminar esta nota?")){
        var fila = btn.parentNode.parentNode;
        fila.parentNode.removeChild(fila);
    }
 }

document.querySelectorAll('.asistencia').forEach(function(checkbox, index){
    checkbox.addEventListener('change', function(){
        localStorage.setItem('asistencia_' + index, checkbox.checked  ? 'presente' : 'falta');
    });
});

document.addEventListener('DOMContentLoaded', function(){
    document.querySelectorAll('.asistencia').forEach(function(checkbox, index){
        var estadoAsistencia = localStorage.getItem('asistencia_' + index);
        checkbox.checked = estadoAsistencia === 'presente';
    });
});